StackCalculator using final state machine
